{% extends 'base.html' %}

{% block title %}Sign in — FinSecure{% endblock %}

{% block content %}
<div class="card-panel auth">
  <h2 style="margin-bottom:8px;color:var(--accent);font-weight:800">Sign in</h2>
  <p class="muted" style="margin-bottom:18px">Security dashboard — analyst access</p>

  {# flashed messages #}
  {% set flashed = get_flashed_messages(with_categories=true) %}
  {% if flashed %}
    {% for category, message in flashed %}
      <div class="alert {% if category == 'error' %}alert-danger{% else %}alert-info{% endif %}" role="alert">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}

  <form method="post" action="{{ url_for('login') }}">
    <div class="mb-3">
      <label for="username" class="form-label muted">Username</label>
      <div class="input-group">
        <span class="input-group-text"><i class="bi bi-person"></i></span>
        <input id="username" name="username" type="text" required autofocus class="form-control" placeholder="Enter username" value="{{ request.form.get('username','') }}">
      </div>
    </div>

    <div class="mb-3">
      <label for="password" class="form-label muted">Password</label>
      <div class="input-group">
        <span class="input-group-text"><i class="bi bi-lock"></i></span>
        <input id="password" name="password" type="password" required class="form-control" placeholder="Enter password">
      </div>
    </div>

    <div class="d-flex gap-2 align-items-center">
      <button type="submit" class="btn btn-accent">Login</button>
      <a href="{{ url_for('signup') }}" class="btn btn-outline-light">Create account</a>
      <div class="ms-auto muted" style="font-size:0.92rem">Need help? Contact admin</div>
    </div>
  </form>

  <div style="text-align:center;margin-top:14px;color:var(--muted);">
    <small>By signing in you agree to demo terms • FinSecure OS</small>
  </div>
</div>
{% endblock %}